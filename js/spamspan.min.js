function spamSpan(){for(var i,f,r,t=getElementsByClass(spamSpanMainClass,document,"span"),n=0;n<t.length;n++){var h=getSpanValue(spamSpanUserClass,t[n]),c=getSpanValue(spamSpanDomainClass,t[n]),e=getSpanValue(spamSpanAnchorTextClass,t[n]),u=[];for(i=0;i<spamSpanParams.length;i++)f=getSpanValue(spamSpanParams[i],t[n]),f&&u.push(spamSpanParams[i]+"="+encodeURIComponent(f));var l=String.fromCharCode(64),o=cleanSpan(h)+l+cleanSpan(c),a=document.createTextNode(e?e:o),v=String.fromCharCode(109,97,105,108,116,111,58),s=v+o;s+=u.length?"?"+u.join("&"):"";r=document.createElement("a");r.className=spamSpanMainClass;r.setAttribute("href",s);r.appendChild(a);t[n].parentNode.replaceChild(r,t[n])}}function getElementsByClass(n,t,i){var e=[],r,f;t==null&&(node=document);i==null&&(i="*");var u=t.getElementsByTagName(i),o=u.length,s=new RegExp("(^|s)"+n+"(s|$)");for(r=0,f=0;r<o;r++)s.test(u[r].className)&&(e[f]=u[r],f++);return e}function getSpanValue(n,t){var i=getElementsByClass(n,t,"span");return i[0]?i[0].firstChild.nodeValue:!1}function cleanSpan(n){return n=n.replace(/[\[\(\{]?[dD][oO0][tT][\}\)\]]?/g,"."),n.replace(/\s+/g,"")}function addEvent(n,t,i){n.addEventListener?n.addEventListener(t,i,!1):n.attachEvent&&(n["e"+t+i]=i,n[t+i]=function(){n["e"+t+i](window.event)},n.attachEvent("on"+t,n[t+i]))}var spamSpanMainClass="spamspan",spamSpanUserClass="u",spamSpanDomainClass="d",spamSpanAnchorTextClass="t",spamSpanParams=["subject","body"];addEvent(window,"load",spamSpan);